@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<NibsMVC.EDMX.OutletVendor>
<style>
    .DTTT_button_print{
        display:none !important;
    }
</style>
<div class="page-content">

    <!-- BEGIN PAGE HEADER-->
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-home"></i>
                <a href="@Url.Action("Index","Home")">Home</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="@Url.Action("Create","Vendor")">Add Vendor</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                Vendor Details
            </li>
        </ul>

    </div>
    <div class="row">

        <div class="col-md-12" style="padding-left:0px;padding-right:0px;">
            <!-- BEGIN BORDERED TABLE PORTLET-->
            <div class="portlet box yellow">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-coffee"></i>Vendor Details
                    </div>
                    <div class="tools">
                        <a href="javascript:;" class="collapse">
                        </a>

                        <a href="javascript:;" class="reload">
                        </a>

                    </div>
                </div>
                <div class="portlet-body">
                    <table class="table table-bordered table-hover table-full-width" id="sample_2">
                        <thead>
                            <tr>
                                <th>
                                    S.NO
                                </th>
                                <th>
                                    Name
                                </th>
                                <th>Contact</th>
                                <th>Email</th>
                                <th>Address</th>
                                <th>Active</th>
                                <th>Action</th>

                            </tr>
                        </thead>
                        <tbody>
                            @{

                                var counter = 1;
                                foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @counter
                                        </td>
                                        <td>
                                            @item.VenderName
                                        </td>
                                        <td>
                                            @item.VenderContact
                                        </td>
                                        <td>
                                            @item.VendorEmail
                                        </td>
                                        <td>
                                            @item.VendorAddress
                                        </td>
                                        <td>
                                            @if (item.IsActive)
                                            {
                                                <span>Active</span>
                                            }
                                            else
                                            {
                                                <span>Blocked</span>
                                            }

                                        </td>
                                        <td>
                                            <a href="@Url.Action("Create", "Vendor", new { Id = item.OutletVenderId })"><span class="fa fa-edit"></span></a>
                                            @if (item.IsActive)
                                            {
                                                <a href="@Url.Action("DeleteVendor", "Vendor", new { Id = item.OutletVenderId })" class="delete-Vendor">block</a>
                                            }
                                            else
                                            {
                                                <a href="@Url.Action("DeleteVendor", "Vendor", new { Id = item.OutletVenderId })" class="delete-Vendor">unblock</a>
                                            }
                                        </td>

                                    </tr>
                                            counter = counter + 1;
                                }

                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script>
            $(document).on('click', '.delete-Vendor', function (even) {
                if (!confirm("are you sure want to block or unblock this ?")) {
                    return false;
                }
                else {
                    return true;
                }
                even.preventDefault();
            })
        </script>
        
    </div>
</div>